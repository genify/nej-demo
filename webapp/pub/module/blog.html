 <textarea name="txt" id="module-id-7"> <div class="m1-t w-tab f-cb"> <a class="itm fl" href="#/blog/" data-id="/blog/">日志</a> <a class="itm fl" href="#/blog/tag/" data-id="/blog/tag/">标签</a> </div> </textarea> <textarea name="css">.mdl-2 .pgr{padding:20px 0;text-align:center;}.w-bit{line-height:24px;border-bottom:1px dotted #D8E0E5;overflow:hidden;}.w-bit .inf span{margin-right:20px;color:#7B7B7B;}.w-bit .xat a{margin-left:10px;}</textarea><textarea name="js">I$(90,function(i,n,_,r,o,s,t){var e;t.Ch=i.ae();e=t.Ch.le(s.Ea);e.ia=function(){this.he();this.ga=n.Gi(r.z_("module-id-7"));this.xh=_.wa.u_({list:n.Ii(this.ga)})};e.aa=function(t){this.he(t);this.xh.Ma(this.Ca(t))};o.Bs("blog-tab",t.Ch)},4,5,87,9,15,66);</textarea> <textarea name="txt" id="module-id-6"> <div class="f-cb w-lyx mdl-4"> <div class="lyr fr"> <div class="w-blk"> <h4 class="ytl">温馨提示</h4> <p class="ybx">标签是由用户定义的、概括文章内容的关键词，比日志分类更准确、更具体。经常使用标签，可以让读者更加方便地找到感兴趣的文章。</p> </div> </div> <div class="lym f-cb j-flag"></div> </div> </textarea> <textarea name="jst" id="jst-6-tag-list"> {list beg..end as y} {var x=xlist[y]} <div class="fl it"> <a href="#/blog/?tid=${x.id}">${x.tagName}</a> <span class="sp">(${x.blogCount})</span> <a class="up" href="#">修改</a> </div> {/list} </textarea> <textarea name="css">.mdl-2 .pgr{padding:20px 0;text-align:center;}.w-bit{line-height:24px;border-bottom:1px dotted #D8E0E5;overflow:hidden;}.w-bit .inf span{margin-right:20px;color:#7B7B7B;}.w-bit .xat a{margin-left:10px;}</textarea><textarea name="js">I$(91,function(i,r,o,e,_,a,n,u,c,s){var t;n.Ih=r.ae();t=n.Ih.le(a.cl);t.h_=function(t){this.Sh(t.more);this.wh=e.cn(t.sbody);this.E_([[this.wh,"scroll",this.Th.V(this)]]);var n=t.delta;if(null==n)n=30;this.kh=Math.max(0,n);var _=parseInt(t.count)||0;this.Mh=Math.max(0,_);var i=parseInt(t.number)||0;if(i>1&&_>=i)this.Lh=i;this.he(t)};t.p_=function(){this.he();delete this.Nh;delete this.wh;delete this.Ph;delete this.Ah};t.Il=function(t,e){var n=this.fl+(this.Mh-1)*this.Gc,i=this.Mh*this.Gc;return this.he(n,t,i,e)};t.Sh=function(t){this.Nh=e.cn(t);this.E_([[this.Nh,"click",this.Dh.V(this)]])};t.Rh=function(t){if(!this.Ph&&t&&this.hl.clientHeight){if(!t.scrollHeight)t=e.Xn();var n=e.Li(this.hl),i=n.y+this.hl.offsetHeight-t.scrollTop-t.clientHeight,_=t.scrollHeight<=t.clientHeight;if(i<=this.kh||_&&!this.Ph)this.Dh()}};t.Th=function(t){if(!this.Ph)this.Rh(o.Rn(t))};t.Bl=function(t){this.he(t);if(!t.stopped){this.ml();var e=0;if(t.index>1)e=this.fl+((t.index-1)*this.Mh-1)*this.Gc;this.jh=e;this.Dh()}};t.ql=function(t){if(this.Lh){var n=t.offset>0?this.Gc:this.fl,e=n+this.Gc*(this.Lh-1);this.jh=t.offset+e;t.data.limit=e;t.limit=e;delete this.Lh}return t};t.Qu=function(t){delete this.Ah;this.he(t);this.Bh()};t.Ml=function(t){if(t.key==this.ll.key){switch(t.action){case"refresh":case"append":delete this.Ah}this.he(t)}};t.Fl=function(){this.Zl("onbeforelistload","列表加载中...");e.t_(this.Nh,"display","none")};t.Ul=function(n,t,i){var _=n.length,r=n.loaded?t+i>=_:t+i>_;this.jh=Math.min(this.jh,_);e.t_(this.Nh,"display",r?"none":"");if(r)this.Ph=!0;if(this.Mh>0){var o=this.Il(t,n.length);if(this.Gl(o.index,o.total))return!0;var s=this.fl-this.Gc,a=this.Mh*this.Gc;this.Ph=(t+i-s)%a==0||r;e.t_(this.Nh,"display",this.Ph?"none":"");this.Rl(this.Ph&&o.total>1?"":"none")}};t.Xl=function(){this.jh=0;this.Ph=!0;this.Zl("onemptylist","没有列表数据！")};t.Jl=function(t,e){this.hl.insertAdjacentHTML(e||"beforeEnd",t)};t.zl=function(t){this.Dl=this.Dl||[];if(_.Se(t))s.push.apply(this.Dl,t);else this.Dl.push(t)};t.Ll=function(t){e.Fi(this.Wl);this.eh(t,"onafteradd");var n=t.flag;if(!t.stopped&&n)if(!(this.Mh>0)){this.jh+=1;-1==n?this.uh(t.data):this.ch(t.data)}else this.jl()};t.Nl=function(t){this.eh(t,"onafterdelete");if(!t.stopped)if(!(this.Mh>0)){var i=t.data[this.dl.pkey];if(this.Dl){var n=e.To(this.Cl(i)),r=_.Me(this.Dl,n);if(r>=0){this.Dl.splice(r,1);this.jh-=1}if(n)n.d_()}else{var o=this.nh(i);if(o)this.jh-=1;e.qi(o)}if(this.jh<=0)this.Dh()}else this.jl()};t.ih=function(t){if(t==this.jh)if(this.bu()){this.Ph=!1;this.Bh()}};t.rh=function(e,n){if(0==e)for(var i=this.T_.pu(this.ll.key),t=n-1;t>=0;t--)this.uh(i[t])};t.Bh=function(){var t=this.wh;if(t&&!this.Ph)this.Rh(this.wh)};t.Ss=function(){delete this.Ph;this.he()};t.Dh=function(){if(!this.Ah){this.Ah=!0;var t=this.jh;this.jh+=0==t?this.fl:this.Gc;this.Ol(t)}};if(!0)i.copy(i.P("nej.ut"),n);return n},3,4,6,5,7,69);I$(92,function(n,i,_,r,t,o){var e;t.Oh=n.ae();e=t.Oh.le(r.Ku);e.Hu=function(t){var e=t.key,n=t.onload;if(1)_.io("/api/tag/list",{method:"POST",type:"json",data:i.Xe(t.data),onload:this.Qu.V(this,e,n),onerror:this.Qu.V(this,e,n,o)});else{var r=window["tag-list"],a=t.limit,s=t.offset,u={code:1,result:{total:r.length,list:r.slice(s,s+a)}};window.setTimeout(this.Qu.V(this,e,n,u),1e3)}};return t},4,7,36,85);I$(93,function(i,e,_,r,o,s,a,t){var n;t.qh=i.ae();n=t.qh.le(s.Ea);n.ia=function(){this.he();this.ga=e.Gi(_.z_("module-id-6"));var t=e.Si(this.ga,"j-flag");this.mh=o.Ih.u_({limit:1e3,parent:t[0],item:"jst-6-tag-list",cache:{klass:a.Oh,lkey:"blog-tag"},onbeforelistload:this.Ia.V(this),onemptylist:this.Sa.V(this,"没有标签列表！")})};r.Bs("blog-tag",t.qh)},4,5,9,15,91,66,92);</textarea> <textarea name="txt" id="module-id-2"> <div class="mdl-2"> <div class="lbx js-flag"></div> <div class="pgr js-flag"></div> </div> </textarea> <textarea name="jst" id="jst-2-blog-list"> {list beg..end as y} {var x=xlist[y]} <div class="w-bit"> <div class="f-cb"> <p class="fl ztl"><a href="#">${x.title}</a></p> <div class="fr xat"> <a href="#">编辑</a> <a href="#">删除</a> </div> </div> <p class="inf"> <span>${x.publishTime|format:'yyyy-MM-dd HH:mm'}</span> <span>阅读(${x.accessCount})</span> <span>评论(${x.commentCount})</span> </p> </div> {/list} </textarea> <textarea name="css">.mdl-2 .pgr{padding:20px 0;text-align:center;}.w-bit{line-height:24px;border-bottom:1px dotted #D8E0E5;overflow:hidden;}.w-bit .inf span{margin-right:20px;color:#7B7B7B;}.w-bit .xat a{margin-left:10px;}</textarea><textarea name="js">I$(65,function(n,i,_,r,e){var t;e.fh=i.ae();t=e.fh.le(r.cl);t.Il=function(t,e){return this.he(this.fl,t,this.Gc,e)};t.$h=function(t){var e=0;if(t>1)e=this.fl+(t-2)*this.Gc;return e};t.Bl=function(t){this.he(t);if(!t.stopped)this.Ol(this.$h(t.index))};t.Fl=function(){this.ml();this.Zl("onbeforelistload","列表加载中...")};t.Hl=function(){this.he();this.ml()};t.Ul=function(e,n){var t=this.Il(n,e.length);if(this.Gl(t.index,t.total))return!0;this.Rl(t.total>1?"":"none");return void 0};t.Xl=function(){this.Zl("onemptylist","没有列表数据！")};t.Yl=function(t,e){if(e||!_.xe(t))this.he(t,e);else this.hl.innerHTML=t};t.Jl=function(t){this.hl.innerHTML=t};t.zl=function(t){this.Dl=t};t.Ll=function(t){this.eh(t,"onafteradd");if(!t.stopped)this.Ss()};t.Nl=function(t){this.eh(t,"onafterdelete");if(!t.stopped)this.Ss()};t.ih=function(n){var t=1;if(this.vl)t=this.vl.jc();var i=this.$h(t),_=i+(t>1?this.Gc:this.fl);if(n>=_&&this.vl){var e=this.Il(0,this.yu());this.vl.Oc(e.total);this.Rl(e.total>1?"":"none")}else this.Ss()};t.rh=function(){var t=1;if(this.vl)t=this.vl.jc();var e=this.$h(t),n=this.Il(e,this.yu());this.Bl({last:t,index:n.index})};if(!0)n.copy(n.P("nej.ut"),e);return e},3,4,7,69);I$(68,function(i,n,_,r,o,s,a,e,u){var t;e.ph=i.ae();t=e.ph.le(s.Ea);t.ia=function(){this.he();this.ga=n.Gi(o.z_("module-id-2"));var t=n.Si(this.ga,"js-flag");this.gh={limit:15,parent:t[0],item:"jst-2-blog-list",cache:{klass:a.Wu},pager:{clazz:"w-pager",parent:t[1]},onbeforelistload:this.Ia.V(this),onemptylist:this.Sa.V(this,"没有日志列表！")}};t.aa=function(){var t=function(t){if(t.cid)return"class-"+t.cid;if(t.tid)return"tag-"+t.tid;else return"box-"+(t.box||1)};return function(e){this.he(e);if(this.mh)this.mh.d_();this.gh.cache.lkey=t(e.param||u);this.mh=r.fh.u_(this.gh)}}();t.vh=function(t){console.log("hi,i'm "+this._a+", subscribe message from "+t.from+" and say: "+JSON.stringify(t.data))};_.Bs("blog-list",e.ph)},4,5,15,65,9,66,67);</textarea> <textarea name="txt" id="module-id-5"> <div class="m3-t"> <div class="tbx j-flag"> <a class="itm j-list" href="#/blog/?box=0" data-id="0">收件箱(10)</a> <span class="sp">|</span> <a class="itm j-list" href="#/blog/?box=1" data-id="1">草稿箱(20)</a> <span class="sp">|</span> <a class="itm j-list" href="#/blog/?box=2" data-id="2">回收站(30)</a> </div> <p class="sbx"> <span class="j-flag"></span> <a href="#/blog/?box=0">返回&gt;&gt;</a> </p> </div> </textarea> <textarea name="css">.mdl-2 .pgr{padding:20px 0;text-align:center;}.w-bit{line-height:24px;border-bottom:1px dotted #D8E0E5;overflow:hidden;}.w-bit .inf span{margin-right:20px;color:#7B7B7B;}.w-bit .xat a{margin-left:10px;}</textarea><textarea name="js">I$(88,function(i,t,_,r,o,s,e,a){var n;e.yh=i.ae();n=e.yh.le(s.Ea);n.ia=function(){this.he();this.ga=t.Gi(r.z_("module-id-5"));var e=t.Si(this.ga,"j-flag");this.Wl=e[1];this.bh=e[0].parentNode;this.xh=_.wa.u_({list:t.Si(e[0],"j-list")})};n.aa=function(n){this.he(n);var e=n.param||a,i=e.cid||e.tid;if(i){var _=e.cid?"分类：":"标签：";this.Wl.innerText=_+i+"的日志列表";t.Xi(this.bh,"js-ntbx")}else{this.xh.Ma(e.box||0);t.__(this.bh,"js-ntbx")}};o.Bs("blog-list-box",e.yh)},4,5,87,9,15,66);</textarea> <textarea name="txt" id="module-id-4"> <div class="w-blk"> <h4 class="ytl">按标签查看</h4> <div class="ybx j-flag"></div> </div> </textarea> <textarea name="jst" id="jst-4-tag-list"> {list xlist as x} <a class="yit j-list" href="#/blog/?tid=${x.id}" data-id="${x.id}">${x.name}(${x.count})</a> {/list} </textarea> <textarea name="css">.mdl-2 .pgr{padding:20px 0;text-align:center;}.w-bit{line-height:24px;border-bottom:1px dotted #D8E0E5;overflow:hidden;}.w-bit .inf span{margin-right:20px;color:#7B7B7B;}.w-bit .xat a{margin-left:10px;}</textarea><textarea name="js">I$(89,function(i,t,_,r,o,s,a,u,e){var n;e.Eh=i.ae();n=e.Eh.le(a.Ea);n.ia=function(){this.he();this.ga=t.Gi(r.z_("module-id-4"));var e=t.Si(this.ga,"j-flag");this.T_=u.Wu.u_();o.G_(e[0],"jst-4-tag-list",{xlist:this.T_.Zu()});this.xh=_.wa.u_({list:t.Si(e[0],"j-list")})};n.aa=function(t){this.he(t);this.xh.Ma(t.param.tid)};s.Bs("blog-list-tag",e.Eh)},4,5,87,9,34,15,66,67);</textarea>